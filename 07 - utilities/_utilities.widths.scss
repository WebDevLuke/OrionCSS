//--------------------------------------------------------------------------------------------------------------------------------------
// WIDTHS
//--------------------------------------------------------------------------------------------------------------------------------------

/*
Utility classes to provide fluid widths to whichever element they're applied to. Most commonly used in
conjunction with the grid system object 'o-layout', but can be used with anything.
*/

/*
<div class="o-layout__item u-1/2">CONTENT</div>
*/


// WIDTHS MIXIN
//--------------------------------------------------------------------------------------------------------------------------------------

@mixin create-widths($width-sets, $breakpoint-suffix: null) {
	@each $denominator in $width-sets {
		@for $numerator from 1 through $denominator {

			/*
			[1] Reset margin-left to disabled any previous offsets
			*/

			// Width class, eg 'u-1/2'
			.u-#{$numerator}\/#{$denominator}#{$breakpoint-suffix} {
				width:($numerator / $denominator) * 100% !important;
				margin-left:0 !important;
			}
		}
	}
}

// OFFSETS MIXIN
//--------------------------------------------------------------------------------------------------------------------------------------

@mixin create-offsets($width-sets, $breakpoint-suffix: null) {
	@each $denominator in $width-sets {
		@for $numerator from 1 through $denominator {

			// Offset class, eg 'u-offset-1/2'
			.u-offset-#{$numerator}\/#{$denominator}#{$breakpoint-suffix} {
				margin-left:($numerator / $denominator) * 100% !important;
			}
		}
	}
}

// GENERATE STANDARD WIDTHS
//--------------------------------------------------------------------------------------------------------------------------------------

@include create-widths($width-sets);
@include create-offsets($width-sets);


// GENERATE RESPONSIVE WIDTHS
//--------------------------------------------------------------------------------------------------------------------------------------

// Create responsive variants using settings.breakpoints
// Changes width when breakpoint is hit
// Example: .u-1/3@md

@each $bp-name, $bp-value in $breakpoints {
	@include bp(#{$bp-name}) {
		@include create-widths($width-sets, \@#{$bp-name});
		@include create-offsets($width-sets, \@#{$bp-name});
	}
}

// Create responsive variants using settings.breakpoints
// Changes width until breakpoint is hit
// Example: .u-1/3@max-md

@each $bp-name, $bp-value in $breakpoints {
	@include bpMax(#{$bp-name}) {
		@include create-widths($width-sets, \@max-#{$bp-name});
		@include create-offsets($width-sets, \@#{$bp-name});
	}
}


// FULL WIDTH UTILITY
//--------------------------------------------------------------------------------------------------------------------------------------

/*
A more semantic full width utility for use with things like images etc
*/

.u-full-width {
	width:100% !important;
	max-width:100% !important;
}

// Example: u-full-width@xlg
@each $bp-name, $bp-value in $breakpoints {
	@include bp(#{$bp-name}) {
		.u-full-width\@#{$bp-name} {
			width:100% !important;
			max-width:100% !important;
		}
	}
}

// Example: u-full-width@max-xlg
@each $bp-name, $bp-value in $breakpoints {
	@include bpMax(#{$bp-name}) {
		.u-full-width\@max-#{$bp-name} {
			width:100% !important;
			max-width:100% !important;
		}
	}
}